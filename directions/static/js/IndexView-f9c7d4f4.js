import{r as f,b as Q,k as ce,l as re,w as pe,d as q,q as R,o as a,c as o,u as t,n as E,t as _,s as F,v as j,a as e,x as ae,_ as G,y as _e,i as T,F as O,z as A,A as C,f as z,B as W,C as me,p as X,j as Y,D as B,E as ve,G as oe,e as ge,H as fe,h as V,I as ye,J as he}from"./--b807faa8.js";import{S as ie}from"./splitting-141514ac.js";function be(n){let y=!0;const p=f(0),i=f(0),d=f(0),m=f(0);function g(c){y&&(d.value=c.pageX,m.value=c.pageY,y=!1),n&&n.isRelative?(p.value=c.clientX,i.value=c.clientY):(p.value=c.pageX,i.value=c.pageY),n&&n.callback&&n.callback(p.value,i.value)}const k=()=>{window.removeEventListener("mousemove",g)};return n&&n.isInMount?window.addEventListener("mousemove",g):(Q(()=>window.addEventListener("mousemove",g)),ce(()=>k())),{x:p,y:i,initX:d,initY:m,removeFn:k}}const we="/directions/static/png/status12.png",Se="/directions/static/png/status22.png",ke="/directions/static/png/status32.png";function Ie(){const n=f(1),y=f(10),p=f(0);return{current:n,pageSize:y,total:p}}function $e(){return re.get("/domain/get")}function De(n,y,p){return re.get("/problems/page",{params:{domainId:n,current:y,pageSize:p}})}function Z(n){return n?{...n}:{1:{name:"未提交",image:we,color:"#ff4d4f"},2:{name:"已提交",image:Se,color:"#1890ff"},3:{name:"已批改",image:ke,color:"#81fc47"}}}function ee(n){const{current:y,pageSize:p,total:i}=Ie(),d=f([]);return pe(()=>{De(n,y.value,p.value).then(m=>{d.value=m.data.data,i.value=m.data.len})}),{current:y,pageSize:p,total:i,problemList:d}}const xe="/directions/static/png/status1.png",Ce="/directions/static/png/status2.png",Le="/directions/static/png/status3.png",Me={class:"wrapper"},Te=q({__name:"DeadLine",props:{deadline:{},color:{}},setup(n){const y=n;function p(c){const h=f(""),I=f(""),s=f(!0),x=f(""),r=ae(c).unix(),b=ae().unix();return r<b?h.value="已截止":r-b<10*60?(h.value="距截止仅剩",I.value="",x.value="ss秒SSS"):r-b<60*60?(h.value="距截止还有",I.value="",x.value="mm分ss秒"):r-b<24*60*60?(h.value="距截止还有",I.value="小时",x.value="HH"):(h.value="截止时间：",s.value=!1),{prefix:h,suffix:I,isWarning:s,format:x,date:r*1e3}}const{prefix:i,suffix:d,isWarning:m,format:g,date:k}=p(y.deadline);return(c,h)=>{const I=R("a-statistic-countdown");return a(),o("div",Me,[t(m)?(a(),F(I,{key:1,value:t(k),format:t(g),"value-style":{color:t(m)?"#ff4d4f":c.color}},{prefix:j(()=>[e("span",null,_(t(i)),1)]),suffix:j(()=>[e("span",null,_(t(d)),1)]),_:1},8,["value","format","value-style"])):(a(),o("span",{key:0,style:E({color:t(m)?"#ff4d4f":c.color})},_(t(i)+c.deadline),5))])}}});const te=G(Te,[["__scopeId","data-v-f29e51fe"]]),se=n=>(X("data-v-d462822e"),n=n(),Y(),n),Oe={key:0,class:"cursor"},Re={class:"cursor-inner"},ze=me('<svg xmlns="http://www.w3.org/2000/svg" data-v-d462822e><defs data-v-d462822e><filter id="gooey" data-v-d462822e><feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="3.2" data-v-d462822e></feGaussianBlur><feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 20 -7" result="goo" data-v-d462822e></feColorMatrix><feComposite in="SourceGraphic" in2="goo" operator="atop" data-v-d462822e></feComposite></filter></defs></svg>',1),Ee={class:"main-container"},je={key:0,class:"background-cover"},Ae=se(()=>e("span",null,"WEB",-1)),Ue=[Ae],Ve={key:1,class:"problems-wrapper"},We={class:"problem-card-content"},He={class:"problem-card-title"},Be={class:"problem-card-scores"},Fe={"data-splitting":""},qe={"data-splitting":""},Ge=se(()=>e("div",{"data-splitting":""}," 我的得分："+_(820),-1)),Ne={key:0},Pe={key:2,class:"empty-wrapper"},Xe=se(()=>e("span",null,"NO DATA",-1)),Ye=[Xe],Ke={key:3,class:"pagination-container"},Je=q({__name:"WebView",props:{id:{}},emits:["mounted"],setup(n,{emit:y}){const p=n,i=f(0);let d;const{width:m,height:g}=_e();function k(){const b=document.querySelector(".cursor"),v=document.querySelector(".cursor-inner");if(!b||!v)return console.log("cursorDom or innerDom is null"),()=>{console.error("cursorDom or innerDom is null")};const S=Number(getComputedStyle(b).getPropertyValue("--columns")),l=m.value/S,L=Math.ceil(g.value/l);i.value=L*S,v&&!(()=>navigator.userAgent.toLowerCase().indexOf("firefox")>-1)()&&(v.style.filter="url(#gooey)");function u(M,U){const D=m.value/S,H=Math.floor(M/D),de=Math.floor(U/D)*S+H,ue=document.querySelectorAll(".cursor-inner-box");return{cellIndex:de,cells:ue}}const J=be({isRelative:!0,isInMount:!0,callback:(M,U)=>{const{cellIndex:D,cells:H}=u(M,U);if(D>=i.value||D<0){console.log("cellIndex is out of range");return}const N=H==null?void 0:H[D];if(!N){console.log("cellDom is null");return}B.timeline().to(N,{duration:.3,opacity:1,ease:"power2.out"}).to(N,{duration:.3,opacity:0,ease:"power2.out"})}}).removeFn;function ne(M){if(M.target&&M.target instanceof HTMLElement&&window.getComputedStyle(M.target).getPropertyValue("cursor")!=="pointer")return;const{cellIndex:U,cells:D}=u(M.clientX,M.clientY);B.timeline().addLabel("start",0).to(D,{duration:1,ease:"power4",opacity:1,stagger:{from:[...D].indexOf(D[U]),each:.02,grid:[L,S]}},"start").to(D,{duration:1,ease:"power1",opacity:0,stagger:{from:[...D].indexOf(D[U]),each:.03,grid:[L,S]}},"start+=0.3")}return window.addEventListener("click",ne),()=>{J(),window.removeEventListener("click",ne)}}const c=Z({1:{name:"未提交",image:xe,color:"#ff4d4f"},2:{name:"已提交",image:Ce,color:"#1890ff"},3:{name:"已批改",image:Le,color:"#81fc47"}});function h(b){const v="abcdefghijklmnopqrstuvwxyz!@#$%^&*-_+=;:<>,",S=[];b&&(b.querySelectorAll("[data-splitting]").forEach(l=>{l instanceof HTMLElement&&S.push(l)}),S.forEach(l=>{l.querySelectorAll(".char").forEach($=>{if(!($ instanceof HTMLElement))return;$.style.fontWeight="bold";let u="";$.getAttribute("data-initial")?u=$.getAttribute("data-initial"):(u=$.innerHTML,$.setAttribute("data-initial",u)),B.killTweensOf($),B.fromTo($,{opacity:0},{duration:.03,innerHTML:()=>v[Math.floor(Math.random()*v.length)]+(Math.random()>.5?v[Math.floor(Math.random()*v.length)]:""),repeat:3,repeatRefresh:!0,opacity:1,repeatDelay:.05,onComplete:()=>{B.set($,{innerHTML:u,delay:.03}),$ instanceof HTMLElement&&($.style.fontWeight="")}})})}))}function I(b){const v=b.target;ie({target:v.querySelector(".problem-card-scores")}),h(v)}const{current:s,total:x,pageSize:w,problemList:r}=ee(p.id);return Q(()=>{y("mounted","/images/web-bg.jpeg"),ie(),T()||(d=k())}),ce(()=>{d&&d()}),(b,v)=>{const S=R("a-pagination");return a(),o(O,null,[t(T)()?C("",!0):(a(),o("div",Oe,[e("div",Re,[(a(!0),o(O,null,A(new Array(i.value),(l,L)=>(a(),o("div",{key:l+L,class:"cursor-inner-box"}))),128))]),ze])),e("main",Ee,[t(T)()?C("",!0):(a(),o("div",je,Ue)),t(x)>0?(a(),o("div",Ve,[(a(!0),o(O,null,A(t(r),l=>(a(),o("div",{onMouseenter:I,class:"problem-card",key:l.issueDTO.id},[e("div",We,[e("div",He,_(l.issueDTO.title),1),e("div",Be,[e("div",Fe," 初始分数："+_(l.issueDTO.originalScore),1),e("div",qe," 当前分数："+_(l.issueDTO.currentScore),1),Ge])]),l.issueDTO.deadline?(a(),o("div",Ne,[z(te,{deadline:l.issueDTO.deadline,color:"white"},null,8,["deadline"])])):C("",!0),e("div",{style:E({color:t(c)[l.solveRecord?l.solveRecord.status:1].color}),class:"problem-card-content"},_(t(c)[l.solveRecord?l.solveRecord.status:1].name),5),e("div",{style:E({backgroundImage:`url(${t(c)[l.solveRecord?l.solveRecord.status:1].image})`}),class:"problem-card-cover"},null,4)],32))),128))])):(a(),o("div",Pe,Ye)),t(x)>0?(a(),o("div",Ke,[e("div",null,"共 "+_(t(x))+" 道题目",1),t(x)>0?(a(),F(S,{key:0,current:t(s),"onUpdate:current":v[0]||(v[0]=l=>W(s)?s.value=l:null),total:t(x),"page-size":t(w),"onUpdate:pageSize":v[1]||(v[1]=l=>W(w)?w.value=l:null),"show-less-items":""},null,8,["current","total","page-size"])):C("",!0)])):C("",!0)])],64)}}});const Qe=G(Je,[["__scopeId","data-v-d462822e"]]),Ze=n=>(X("data-v-b4ee1d7d"),n=n(),Y(),n),et={class:"main-container"},tt={key:0,class:"problems-wrapper"},st={class:"problem-card-content"},nt={class:"problem-card-title"},at={class:"problem-card-scores"},ot=Ze(()=>e("div",null," 我的得分："+_(820),-1)),it={key:0},lt={key:1},ct={key:2,class:"pagination-container"},rt=q({__name:"DefaultView",props:{id:{}},setup(n){const y=n,p=Z(),{current:i,total:d,pageSize:m,problemList:g}=ee(y.id);return(k,c)=>{const h=R("a-empty"),I=R("a-pagination");return a(),o("main",et,[t(g).length>0?(a(),o("div",tt,[(a(!0),o(O,null,A(t(g),s=>(a(),o("div",{class:"problem-card",key:s.issueDTO.id},[e("div",st,[e("div",nt,_(s.issueDTO.title),1),e("div",at,[e("div",null," 初始分数："+_(s.issueDTO.originalScore),1),e("div",null," 当前分数："+_(s.issueDTO.currentScore),1),ot])]),s.issueDTO.deadline?(a(),o("div",it,[z(te,{deadline:s.issueDTO.deadline,color:"black"},null,8,["deadline"])])):C("",!0),e("div",{class:"problem-card-content",style:E({color:t(p)[s.solveRecord?s.solveRecord.status:1].color})},_(t(p)[s.solveRecord?s.solveRecord.status:1].name),5),e("div",{style:E({backgroundImage:`url(${t(p)[s.solveRecord?s.solveRecord.status:1].image})`}),class:"problem-card-cover"},null,4)]))),128))])):(a(),o("div",lt,[z(h,{description:"暂无题目"})])),t(d)>0?(a(),o("div",ct,[e("div",null,"共 "+_(t(d))+" 道题目",1),z(I,{current:t(i),"onUpdate:current":c[0]||(c[0]=s=>W(i)?i.value=s:null),total:t(d),"page-size":t(m),"onUpdate:pageSize":c[1]||(c[1]=s=>W(m)?m.value=s:null),"show-less-items":""},null,8,["current","total","page-size"])])):C("",!0)])}}});const P=G(rt,[["__scopeId","data-v-b4ee1d7d"]]),dt=n=>(X("data-v-d8728f7d"),n=n(),Y(),n),ut={class:"main-container"},pt={key:0,class:"problems-wrapper"},_t={class:"problem-card-content"},mt={class:"problem-card-title"},vt={class:"problem-card-scores"},gt=dt(()=>e("div",null," 我的得分："+_(820),-1)),ft={key:0},yt={key:1},ht={key:2,class:"pagination-container"},bt=q({__name:"UIView",props:{id:{}},setup(n){const y=n,p=Z(),{current:i,total:d,pageSize:m,problemList:g}=ee(y.id);return(k,c)=>{const h=R("a-empty"),I=R("a-pagination");return a(),o("main",ut,[t(g).length>0?(a(),o("div",pt,[(a(!0),o(O,null,A(t(g),s=>(a(),o("div",{class:"problem-card",key:s.issueDTO.id},[e("div",_t,[e("div",mt,_(s.issueDTO.title),1),e("div",vt,[e("div",null," 初始分数："+_(s.issueDTO.originalScore),1),e("div",null," 当前分数："+_(s.issueDTO.currentScore),1),gt])]),s.issueDTO.deadline?(a(),o("div",ft,[z(te,{deadline:s.issueDTO.deadline,color:"black"},null,8,["deadline"])])):C("",!0),e("div",{style:E({color:t(p)[s.solveRecord?s.solveRecord.status:1].color}),class:"problem-card-content"},_(t(p)[s.solveRecord?s.solveRecord.status:1].name),5),e("div",{style:E({backgroundImage:`url(${t(p)[s.solveRecord?s.solveRecord.status:1].image})`}),class:"problem-card-cover"},null,4)]))),128))])):(a(),o("div",yt,[z(h,{description:"暂无题目"})])),t(d)>0?(a(),o("div",ht,[e("div",null,"共 "+_(t(d))+" 道题目",1),z(I,{current:t(i),"onUpdate:current":c[0]||(c[0]=s=>W(i)?i.value=s:null),total:t(d),"page-size":t(m),"onUpdate:pageSize":c[1]||(c[1]=s=>W(m)?m.value=s:null),"show-less-items":""},null,8,["current","total","page-size"])])):C("",!0)])}}});const wt=G(bt,[["__scopeId","data-v-d8728f7d"]]),St="/directions/static/jpg/web.jpg",kt="/directions/static/jpg/ui.jpg",It="/directions/static/jpg/devops.jpg",$t="/directions/static/jpg/ml.jpg",Dt="/directions/static/jpg/crypto.jpg",le="/directions/static/jpg/default.jpg",K=n=>(X("data-v-5e73f2cb"),n=n(),Y(),n),xt=K(()=>e("div",{class:"all-cover"},null,-1)),Ct={class:"container"},Lt={class:"tab-selector"},Mt={class:"tab-brief-desc"},Tt={class:"tab-brief-text animate__animated animate__fadeInUp"},Ot=K(()=>e("div",{class:"tab-brief-cover animate__animated animate__bounceInLeft"},null,-1)),Rt=K(()=>e("div",{class:"tab-brief-sub-cover animate__animated animate__bounceInLeft"},null,-1)),zt=["src"],Et={class:"tab-tabs"},jt={class:"tab-header-wrapper"},At=["onClick"],Ut={class:"tab-folder-panel"},Vt=["onClick"],Wt=K(()=>e("div",null,null,-1)),Ht=q({__name:"IndexView",emits:["tab-change"],setup(n,{emit:y}){const p=ve(),i=f(""),d=f(void 0),m=f(),g={web:{name:"web",description:"web方向",component:Qe,image:St},devops:{name:"devops",description:"devops方向",component:P,image:It},crypto:{name:"crypto",description:"crypto方向",component:P,image:Dt},ml:{name:"ml",description:"ml方向",component:P,image:$t},ui:{name:"ui",description:"ui方向",component:wt,image:kt},default:{name:"default",description:"默认方向",component:P,image:le}},k=f([]),c=f(!0),h=f(!1);function I(w){i.value=w,h.value=!1,c.value=!1}oe(i,w=>{const r=k.value.find(l=>l.name===w),b=(r==null?void 0:r.description)||g[w].description||"";r&&(r.description=b),r&&(r.image=g[w]&&g[w].image||le);const v=p.directionAnimation,S=()=>{d.value=r,m.value=g[w]?g[w].component:g.default.component};v?(setTimeout(S,2e3),y("tab-change",w,r==null?void 0:r.image,c.value)):S()});const s=f("");oe(m,()=>{s.value=""});function x(w){s.value=w}return Q(()=>{ge();const r=fe("hash").name;$e().then(b=>{if(k.value=b.data.data,r){const v=k.value.find(S=>S.name===r);if(v){i.value=v.name;return}}i.value=k.value[0].name})}),(w,r)=>{var l,L,$;const b=R("a-tab-pane"),v=R("a-popover"),S=R("a-tabs");return a(),o(O,null,[xt,e("div",Ct,[e("div",Lt,[e("div",{class:V(["tab-brief",t(T)()?"mobile":""])},[e("div",{style:E({backgroundImage:`url('${(l=d.value)==null?void 0:l.image}')`}),class:V(["tab-brief-bg",t(T)()?"mobile":""])},null,6),e("div",Mt,[e("div",Tt,[e("h1",null,_(d.value&&d.value.name),1),e("p",null,_(d.value&&d.value.description),1)]),Ot,Rt,!t(T)()&&((L=d.value)!=null&&L.image)?(a(),o("img",{key:0,class:"animate__animated animate__bounceInLeft animate__delay-1s",src:($=d.value)==null?void 0:$.image,alt:""},null,8,zt)):C("",!0)])],2),e("div",Et,[z(S,{"active-key":i.value,"onUpdate:activeKey":r[2]||(r[2]=u=>i.value=u)},{renderTabBar:j(()=>[e("div",jt,[e("div",{class:V(["tab-header",t(T)()?"mobile":""])},[(a(!0),o(O,null,A(k.value,u=>(a(),o("div",{class:V(["tab-header-item",i.value===u.name?"active":""]),key:u.name,onClick:J=>I(u.name)},_(u.name),11,At))),128))],2),k.value.length>8||t(T)()?(a(),F(v,{key:0,open:h.value,"onUpdate:open":r[1]||(r[1]=u=>h.value=u),class:"tab-folder-btn",title:"全部方向",placement:"bottomRight"},{content:j(()=>[e("div",Ut,[(a(!0),o(O,null,A(k.value,u=>(a(),o("section",{class:V(i.value===u.name?"active":""),key:u.name,onClick:J=>I(u.name)},_(u.name),11,Vt))),128))])]),default:j(()=>[z(t(ye),{onClick:r[0]||(r[0]=u=>h.value=!h.value)})]),_:1},8,["open"])):C("",!0),Wt])]),default:j(()=>[(a(!0),o(O,null,A(k.value,u=>(a(),F(b,{style:E({backgroundImage:`url('${s.value}')`}),class:"tab-panel",key:u.name,tab:u.name},{default:j(()=>[e("div",{class:V(t(T)()?"mobile":"")},[u.name==i.value?(a(),F(he(m.value),{key:0,id:u.id,onMounted:x},null,40,["id"])):C("",!0)],2)]),_:2},1032,["style","tab"]))),128))]),_:1},8,["active-key"])])])])],64)}}});const qt=G(Ht,[["__scopeId","data-v-5e73f2cb"]]);export{qt as default};
